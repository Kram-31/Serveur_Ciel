SERVICE : Nginx (Reverse Proxy)
ROLE : Le "Chef d'Orchestre"
DESCRIPTION : 
C'est le portier du serveur. Il reçoit toutes les demandes (http://ciel.lan) sur le port 80 
et les redirige vers le bon conteneur (Heimdall, AdGuard, etc.) en fonction de l'URL.
Sans lui, il faudrait taper des ports bizarres (ex: :8080, :9000) pour chaque service.

CONFIGURATION REQUISE :
1. Créer le réseau externe avant tout : docker network create reseau_ciel
2. S'assurer que les conteneurs cibles (Heimdall, Filebrowser...) sont allumés AVANT de lancer Nginx.

FICHIER nginx.conf (A mettre dans ./nginx.conf) :
events { worker_connections 1024; }
http {
    server {
        listen 80;
        server_name ciel.lan;

        # Accueil -> Heimdall
        location / {
            proxy_pass http://heimdall:80;
        }

        # Fichiers -> Filebrowser
        location /fichiers/ {
            proxy_pass http://filebrowser:80/;
            client_max_body_size 0; # Pour uploader des gros fichiers
        }

        # Pubs/DNS -> AdGuard
        location /adguard/ {
            proxy_pass http://adguard:80/;
            proxy_redirect / /adguard/;
            proxy_cookie_path / /adguard/;
        }
    }
}
